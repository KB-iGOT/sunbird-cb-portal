<div class="flex flex-col item-center">
    <div class="flex flex-col card-container">
        <div class="photo-container flex items-center justify-center cursor-pointer" (click)="goToUserProfile(user)">
            <ws-widget-avatar-photo [name]="getUseravatarName()" [photoUrl]="user?.photo" size="m">
            </ws-widget-avatar-photo>
        </div>
        <div class="name-container flex flex-col width-expand">
            <div class="name ws-mat-black-text cursor-pointer flex items-center gap-1" (click)="goToUserProfile(user)" [title]="user?.firstName" >
                <div class="text-ellipsis" >{{ user?.firstName }}</div>
                <span class="profile-badge inline-flex items-center" *ngIf="user && user?.profileDetails && user?.profileDetails?.verifiedKarmayogi">
                    <img class="profile-badge" src="fusion-assets/images/profile-badge.png" height="18" />
                </span>
            </div>
            <div class="designation ws-mat-black60-text">
                {{user?.rootOrgName}}
            </div>
        </div>
        <div class="action-container flex items-center justify-center">
            <button mat-stroked-button color="accent" type="button" class=" mat-accent-border flex-auto-display minwid"
                (click)="connetToUser()" *ngIf="!user?.requestSent && !user?.requestRecieved && !user?.connectionEstablished">
                <span class="" i18n>{{'connectionPeopleCard.connect' | translate}}</span>
            </button>
            <button mat-stroked-button color="accent" type="button" class=" mat-accent-border flex-auto-display minwid"
                (click)="connetToUser()" disabled *ngIf="user?.requestSent && !user?.connectionEstablished">
                <span class="" i18n>{{'connectionPeopleCard.connectionSent' | translate}}</span>
            </button>
            <button mat-stroked-button color="accent" type="button" class=" mat-accent-border flex-auto-display minwid"
                (click)="connetToUser()" disabled *ngIf="user?.requestRecieved && !user?.connectionEstablished">
                <span class="" i18n>{{'connectionPeopleCard.connectionReceived' | translate}}</span>
            </button>
            <button mat-stroked-button color="accent" type="button" class=" mat-accent-border flex-auto-display minwid"
                (click)="connetToUser()" disabled *ngIf="user?.connectionEstablished">
                <span class="" i18n>{{'connectionPeopleCard.connected' | translate}}</span>
            </button>
        </div>
    </div>
</div>

<input type="hidden" i18-value i18-aria-value aria-value="Connection sent"
  value="{{'connectionPeopleCard.connectionSentSuccessfully' | translate}}" #toastSuccess />
<input type="hidden" i18-value i18-aria-value aria-value="Connection failed"
  value="Something went wrong, please try again later!" #toastError />
